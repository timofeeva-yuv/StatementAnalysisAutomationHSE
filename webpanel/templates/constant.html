<script>
// Get the canvas element
var canvas = document.getElementById('canvas_constant_{{ chart.id }}');

// Get the 2D drawing context
var ctx = canvas.getContext('2d');

// Set the constant value to be displayed
var constantValue = {{ chart.value }};

function drawText() {
  // Clear the canvas
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Calculate the font size based on the canvas width
  var fontSize = canvas.width * 0.1; // Adjust the scaling factor as needed

  // Set the font style for the text
  ctx.font = fontSize + 'px Arial';

  // Set the text color
  ctx.fillStyle = 'black';

  // Calculate the position for centering the text
  var x = canvas.width / 2;
  var y = canvas.height / 2;

  // Draw the constant value on the canvas
  ctx.textAlign = 'center';
  ctx.textBaseline = 'middle';
  ctx.fillText(constantValue, x, y);
}

// Function to handle resizing
function handleResize() {
  // Set the canvas dimensions to match the container size
  canvas.width = canvas.parentNode.offsetWidth;
  canvas.height = canvas.parentNode.offsetHeight;

  // Call the drawText function to redraw the text with the updated size
  drawText();
}

// Call the handleResize function initially
handleResize();

// Attach the resize event listener to the window
window.addEventListener('resize', handleResize);
</script>
